<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Student Evaluation System</title>
</h:head>
<h:body>
    <h:form>
        <p:menubar>
            <p:menuitem value="Home" outcome="/index.xhtml" />
            <p:menuitem value="Logout" action="#{authBean.logout}" rendered="#{authBean.currentMyUser != null}" />
            <p:menuitem value="Login" action="login.xhtml?faces-redirect=true" rendered="#{authBean.currentMyUser == null}" />

            <p:menuitem value="Register New User"
                             rendered="#{authBean.hasPermission('admin')}"
                             action="register.xhtml?faces-redirect=true" />

            <p:menuitem value="Submit an Evaluation"
                             rendered="#{authBean.hasPermission('student')}"
                             action="submitEvaluation.xhtml?faces-redirect=true" />

            <p:menuitem value="View My Evaluations"
                             rendered="#{authBean.hasPermission('teacher') || authBean.hasPermission('student')}"
                             action="viewEvaluations.xhtml?faces-redirect=true" />

            <p:menuitem value="View All Evaluations"
                             rendered="#{authBean.hasPermission('admin')}"
                             action="viewEvaluations.xhtml?faces-redirect=true" />

            <p:menuitem value="Manage Activities"
                             rendered="#{authBean.hasPermission('admin') || authBean.hasPermission('teacher') }"
                             action="manageActivities.xhtml?faces-redirect=true" />
        </p:menubar>
    </h:form>
    <h:panelGroup>
        <ui:insert name="content"/>
    </h:panelGroup>
</h:body>
</html>
